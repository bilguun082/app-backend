
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  id       String  @id @default(nanoid()) @map("_id")
  email    String  @unique
  username String?
}

model Lesson {
  id      String  @id @default(nanoid()) @map("_id")
  title   String
  isSaved Boolean
  facts   Fact[]
}

model Fact {
  id              String  @id @default(nanoid()) @map("_id")
  image           String?
  fact            String
  exampleSentence String
  lesson          Lesson  @relation(fields: [lessonId], references: [id])
  lessonId        String
}

model LessonTest {
  id             String          @id @default(nanoid()) @map("_id")
  selectionTests SelectionTest[]
  grade          String
}

model SelectionTest {
  id           String     @id @default(nanoid()) @map("_id")
  type         String
  words        String[]
  correctForm  String
  lessonTest   LessonTest @relation(fields: [lessonTestId], references: [id])
  lessonTestId String
}

model Vocabulary {
  id    String @id @default(nanoid()) @map("_id")
  title String
  words Word[]
}

model Word {
  id              String      @id @default(nanoid()) @map("_id")
  image           String
  word            String
  translation     String
  exampleSentence String
  isSaved         Boolean
  Vocabulary      Vocabulary? @relation(fields: [vocabularyId], references: [id])
  vocabularyId    String?
}

model VocabularyTest {
  id                       String                    @id @default(nanoid()) @map("_id")
  vocabularySelectionTests VocabularySelectionTest[]
  grade                    String
}

model VocabularySelectionTest {
  id               String          @id @default(nanoid()) @map("_id")
  words            String[]
  correctAnswer    String
  VocabularyTest   VocabularyTest? @relation(fields: [vocabularyTestId], references: [id])
  vocabularyTestId String?
}
